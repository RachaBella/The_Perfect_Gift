<%= render partial: "/layouts/navbar" %>

<div class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3" align="center">
			<h1 id="user-welcome">Welcome, <%= @user.username.capitalize %></h1>

<div class = "row">
		<div class="col-lg-4 col-xs-12">
		    <h2 class="white-text">View your recipients here!</h2>
		    <% if @recipients.count !=0 %>
		    <%= collection_select(:user,:recipient_id , @recipients, :id, :name, {:prompt=>true}, {:class =>"form-control"})%>
		    <% else %>
		    <div class="col-xs-12 col-lg-4">
		    	<div class='col l6 col s12'>
		    		<br>
		    		<p>You have no recipients yet, create a new one</p>
		    	</div>
		    	<div class='col l6 col s12'>
			    	<a class="btn-floating btn-large waves-effect waves-light red" id='addButton'>
		            <i class="material-icons">+</i>
		           	</a>
		    	</div>
     		</div>
		    <%end%>
		    
    		</div>
    		<div class="col-lg-4 col-xs-12">
		    Which occasion ?
		    <%= select_tag(:occasion, options_for_select([['Birthday',1],['Wedding',2],['Christmas',3],['Thanksgiving',4],['New year',5]]), {:class =>"form-control"}) %>
		        
    		</div>

    		<div class="col s12" style="display:none" id='recipient-form' >
    		
      <%= form_for @recipient, url: "/users/#{@current_user.id}/recipients", :class => "recipientForm", method: "post", action: 'create',  remote: true do |f| %>
            <div class="row">
              <div class="input-field col s6">
              <%= f.text_field :name, placeholder: "Recipient Name", :id => "first_name" , :class =>"validate" %>
              </div>
              
            </div>
            <div class="row">
              <div class="input-field col s12">
                <%= f.text_field :email, placeholder: "Recipient email", :id => "email" %>
              </div>
            </div>
            
            <%= f.submit "Add recipient", class: "waves-effect waves-light btn", id:"addRecipient" %>
      <%end%>

      
    </div>
</div>

		</div>
	</div>
</div>
  
